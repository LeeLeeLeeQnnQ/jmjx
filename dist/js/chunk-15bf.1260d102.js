(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15bf"],{"0feb":function(t,e,r){"use strict";r.d(e,"g",function(){return a}),r.d(e,"b",function(){return i}),r.d(e,"i",function(){return o}),r.d(e,"a",function(){return u}),r.d(e,"j",function(){return s}),r.d(e,"f",function(){return d}),r.d(e,"h",function(){return l}),r.d(e,"e",function(){return m}),r.d(e,"k",function(){return c}),r.d(e,"d",function(){return p}),r.d(e,"c",function(){return f});var n=r("66df"),a=function(t){return n["a"].request({url:"/api/EmployeeGroup/index",params:t,method:"get"})},i=function(t){var e=t;return n["a"].request({url:"/api/Employee/add",data:e,method:"post"})},o=function(){return n["a"].request({url:"/api/EmployeeGroup/getModules",method:"get"})},u=function(t){return n["a"].request({url:"/api/EmployeeGroup/add",data:t,method:"post"})},s=function(t){var e={id:t};return n["a"].request({url:"/api/Employee/show",data:e,method:"post"})},d=function(t){return n["a"].request({url:"/api/Employee/edit",data:t,method:"post"})},l=function(t){var e={id:t};return n["a"].request({url:"/api/EmployeeGroup/show",data:e,method:"post"})},m=function(t){return n["a"].request({url:"/api/EmployeeGroup/edit",data:t,method:"post"})},c=function(t){var e={};return t&&(e.page=t),n["a"].request({url:"/api/Employee/index",params:e,method:"get"})},p=function(t){var e={id:t};return n["a"].request({url:"/api/Employee/delete",data:e,method:"post"})},f=function(t){var e={id:t};return n["a"].request({url:"/api/EmployeeGroup/delete",data:e,method:"post"})}},"43e1":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Card",{attrs:{title:"修改人员",shadow:""}},[r("Form",{ref:"formItem",attrs:{model:t.formItem,"label-width":80,rules:t.ruleValidate}},[r("Row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[r("i-col",{attrs:{span:"10"}},[r("FormItem",{attrs:{label:"用户名",prop:"username"}},[r("Input",{attrs:{placeholder:"输入姓名"},model:{value:t.formItem.username,callback:function(e){t.$set(t.formItem,"username",e)},expression:"formItem.username"}})],1)],1)],1),r("Row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[r("i-col",{attrs:{span:"10"}},[r("FormItem",{attrs:{label:"姓名",prop:"fullname"}},[r("Input",{attrs:{placeholder:"输入姓名"},model:{value:t.formItem.fullname,callback:function(e){t.$set(t.formItem,"fullname",e)},expression:"formItem.fullname"}})],1)],1)],1),r("Row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[r("i-col",{attrs:{span:"10"}},[r("FormItem",{attrs:{label:"性别",prop:"gender"}},[r("RadioGroup",{model:{value:t.formItem.gender,callback:function(e){t.$set(t.formItem,"gender",e)},expression:"formItem.gender"}},[r("Radio",{attrs:{label:"1"}},[t._v("男")]),r("Radio",{attrs:{label:"2"}},[t._v("女")])],1)],1)],1)],1),r("Row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[r("i-col",{attrs:{span:"10"}},[r("FormItem",{attrs:{label:"密码"}},[r("Input",{attrs:{placeholder:"输入密码"},model:{value:t.formItem.password,callback:function(e){t.$set(t.formItem,"password",e)},expression:"formItem.password"}})],1)],1)],1),r("Row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[r("i-col",{attrs:{span:"10"}},[r("FormItem",{attrs:{label:"确认密码"}},[r("Input",{attrs:{placeholder:"输入密码"},model:{value:t.formItem.confirm_password,callback:function(e){t.$set(t.formItem,"confirm_password",e)},expression:"formItem.confirm_password"}})],1)],1)],1),r("Row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[r("i-col",{attrs:{span:"10"}},[r("FormItem",{attrs:{label:"所属厨房",prop:"kitchen_id"}},[r("Select",{attrs:{multiple:""},model:{value:t.formItem.kitchen_id,callback:function(e){t.$set(t.formItem,"kitchen_id",e)},expression:"formItem.kitchen_id"}},t._l(t.kitchen_list,function(e){return r("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.kitchen_name))])}))],1)],1)],1),r("Row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[r("i-col",{attrs:{span:"10"}},[r("FormItem",{attrs:{label:"权限组",prop:"group_id"}},[r("Select",{model:{value:t.formItem.group_id,callback:function(e){t.$set(t.formItem,"group_id",e)},expression:"formItem.group_id"}},t._l(t.permission_group,function(e){return r("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.group_name))])}))],1)],1)],1),r("Row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[r("i-col",{attrs:{span:"22"}},[r("FormItem",{attrs:{label:"备注"}},[r("Input",{attrs:{type:"textarea",autosize:{minRows:5,maxRows:5},placeholder:"请输入意见"},model:{value:t.formItem.remark,callback:function(e){t.$set(t.formItem,"remark",e)},expression:"formItem.remark"}})],1)],1)],1),r("Row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[r("FormItem",[r("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("formItem")}}},[t._v("提交")])],1)],1)],1)],1)],1)},a=[],i=r("0feb"),o=r("90e7"),u={name:"edit_Member",data:function(){return{member_id:"",formItem:{username:"",fullname:"",gender:"",group_id:"",kitchen_id:"",password:"",confirm_password:""},password:"",ruleValidate:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"},{type:"string",max:50,message:"用户名不能超过50个字",trigger:"blur"}],fullname:[{required:!0,message:"姓名不能为空",trigger:"blur"},{type:"string",max:50,message:"姓名不能超过50个字",trigger:"blur"}],gender:[{required:!0}],group_id:[{required:!0}],kitchen_id:[{required:!0}]},permission_group:[],kitchen_list:[],kitchen_list_ok:!1,permission_group_ok:!1}},methods:{submitValidateField:function(t){if(t.username=t.username.trim(),!t.username)return this.$Notice.warning({title:"用户名不能为空！"}),!1;if(t.fullname=t.fullname.trim(),!t.fullname)return this.$Notice.warning({title:"姓名不能为空！"}),!1;if(t.password||t.confirm_password){if(t.password!=t.confirm_password||t.password.length!=t.confirm_password.length)return this.$Notice.warning({title:"两次密码输入不一致！"}),!1;this.password=t.password}return t.group_id?!!t.kitchen_id||(this.$Notice.warning({title:"厨房不能为空！"}),!1):(this.$Notice.warning({title:"姓名不能为空！"}),!1)},handleSubmit:function(){var t=this,e=this.formItem;e.id=this.member_id;var r=this;this.submitValidateField(e)&&(e.password=this.password,Object(i["f"])(e).then(function(e){var n=e.data;0==n.code?(t.$Notice.warning({title:"信息提交完成！"}),setTimeout(function(){r.$router.go(-1)},1500)):t.$Notice.warning({title:n.msg})}))},isOkToGetData:function(){var t=this;this.kitchen_list_ok&&this.permission_group_ok&&Object(i["j"])(this.member_id).then(function(e){var r=e.data;if(0==r.code){t.kitchen_list_ok=!1,t.permission_group_ok=!1;var n=r.data.kitchen_id.split(","),a=[];n.forEach(function(t){a.push(1*t)}),r.data.kitchen_id=a,t.formItem.username=r.data.username,t.formItem.fullname=r.data.fullname,t.formItem.gender=r.data.gender+"",t.formItem.group_id=r.data.group_id,t.formItem.kitchen_id=r.data.kitchen_id}else t.$Notice.warning({title:r.msg})})}},computed:{},mounted:function(){var t=this;this.member_id=this.$route.query.id,this.$refs.formItem.resetFields(),Object(i["g"])().then(function(e){var r=e.data;t.permission_group=r.data.list||[],t.permission_group_ok=!0,t.isOkToGetData()}),Object(o["l"])().then(function(e){var r=e.data;t.kitchen_list=r.data.list||[],t.kitchen_list_ok=!0,t.isOkToGetData()}),this.isOkToGetData()}},s=u,d=(r("d88d"),r("2877")),l=Object(d["a"])(s,n,a,!1,null,null,null);l.options.__file="main.vue";e["default"]=l.exports},"8ca9":function(t,e,r){},"90e7":function(t,e,r){"use strict";r.d(e,"l",function(){return a}),r.d(e,"a",function(){return i}),r.d(e,"i",function(){return o}),r.d(e,"e",function(){return u}),r.d(e,"n",function(){return s}),r.d(e,"c",function(){return d}),r.d(e,"j",function(){return l}),r.d(e,"f",function(){return m}),r.d(e,"m",function(){return c}),r.d(e,"b",function(){return p}),r.d(e,"h",function(){return f}),r.d(e,"o",function(){return h}),r.d(e,"d",function(){return g}),r.d(e,"k",function(){return _}),r.d(e,"g",function(){return k});var n=r("66df"),a=function(){return n["a"].request({url:"/api/Kitchen/index",method:"get"})},i=function(t){return n["a"].request({url:"/api/Kitchen/add",data:t,method:"post"})},o=function(t){return n["a"].request({url:"/api/Kitchen/edit",data:t,method:"post"})},u=function(t){return n["a"].request({url:"/api/Kitchen/delete",data:t,method:"post"})},s=function(t){return n["a"].request({url:"/api/KitchenStore/index",params:t,method:"get"})},d=function(t){return n["a"].request({url:"/api/KitchenStore/add",data:t,method:"post"})},l=function(t){return n["a"].request({url:"/api/KitchenStore/edit",data:t,method:"post"})},m=function(t){return n["a"].request({url:"/api/KitchenStore/delete",data:t,method:"post"})},c=function(t){return n["a"].request({url:"/api/KitchenMeter/queryList",data:t,method:"post"})},p=function(t){return n["a"].request({url:"/api/KitchenMeter/add",data:t,method:"post"})},f=function(t){return n["a"].request({url:"/api/KitchenMeter/delete",data:t,method:"post"})},h=function(t){return n["a"].request({url:"/api/WorkCategory/index",params:t,method:"get"})},g=function(t){var e=t;return n["a"].request({url:"/api/WorkCategory/add",data:e,method:"post"})},_=function(t){var e=t;return n["a"].request({url:"/api/WorkCategory/edit",data:e,method:"post"})},k=function(t){var e=t;return n["a"].request({url:"/api/WorkCategory/delete",data:e,method:"post"})}},d88d:function(t,e,r){"use strict";var n=r("8ca9"),a=r.n(n);a.a}}]);